<!DOCTYPE HTML>

<html charset="utf-8">
	<head>
		<title>Rock paper Scisors</title>
	</head>

	<body>
		<script>
			function computerPlay()
			{
				var inputs = ['rock', 'paper', 'scissors'];
				var index = Math.floor(Math.random() * 3);
				return inputs[index];
			}

			function play(playerSelection, computerSelection)
			{
				valideInputs = ['rock', 'paper', 'scissors'];
				
				playerSelection = playerSelection.toLowerCase();
				
				while (valideInputs.indexOf(playerSelection) < 0) {
					alert(`'${playerSelection}' is not a valid input. Please enter one of the following: ['rock', 'paper', 'scissors'`);
				}
				
				computerSelection = computerSelection.toLowerCase();

				if (
					(playerSelection == 'paper' && computerSelection == 'rock') ||
					(playerSelection == 'rock' && computerSelection == 'scissors') ||
					(playerSelection == 'scissors' && computerSelection == 'paper')
				) return "You Win! " + playerSelection +  " beats " + computerSelection;

				if (playerSelection == computerSelection) return "Draw game!";

				return "You Lose! " + computerSelection +  " beats " + playerSelection;
			}

			function game ()
			{
				scores = [0, 0];

				for (var i = 1; i <= 5; i++)
				{
					var playerSelection = prompt("Please enter your choise: ['rock', 'paper', 'scissors']");
					var computerSelection = computerPlay();
					var roundResult = play(playerSelection, computerSelection);

					if (roundResult == "Draw game!"){
						scores[0]++;
						scores[1]++;
					}
					else if (playerWonRound(roundResult)) scores[0]++;
					else scores[1]++;

					console.log(roundResult);
				}
				
				showWinner(scores);
			}

			function showWinner(scores)
			{
				if (scores[0] > scores[1]) console.log("You won the game!");
				else console.log("You loosed the game!");
			}

			function playerWonRound(roundResult)
			{
				if (roundResult.startsWith('You Win')) return true;
				return false;
			}
		</script>
	</body>
</html>
